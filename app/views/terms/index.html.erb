<div class="max-w-3xl mx-auto mt-12 px-4">

  <!-- 説明文 -->
  <div class="text-center mb-10">
    <h1 class="text-2xl font-bold text-blue-900 inline-block">
      <%= t("terms.hint") %>
      <span class="block h-1 bg-card-gradient rounded-full mt-2"></span>
    </h1>
  </div>

  <%= render "shared/limit_exceeded" if @limit_exceeded %>
  <!-- 検索フォーム -->
  <%= form_with url: search_terms_path,
              method: :get,
              class: "flex items-center gap-4 max-w-2xl mx-auto" do |f| %>

  <!-- 入力フォーム -->
  <div
    class="
      flex items-center gap-3
      flex-1
      px-6 py-4
      rounded-full
      bg-white
      shadow-md
      focus-within:ring-2
      focus-within:ring-indigo-400
      transition
    "
  >
      <!-- アイコン（左側） -->
      <svg xmlns="http://www.w3.org/2000/svg"
           class="w-5 h-5 opacity-60"
           fill="none"
           viewBox="0 0 24 24"
           stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M13.828 10.172a4 4 0 11-5.656 5.656 4 4 0 015.656-5.656z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 15l5 5" />
      </svg>

      <!-- 入力欄 -->
      <%= f.text_field :query,
            id: "search-input",
            value: params[:query],
            placeholder: t("terms.placeholder"),
            class: "
              w-full
              bg-transparent
              focus:outline-none
              text-base
            ",
            data: {
              controller: "autocomplete",
              action: "input->autocomplete#search"
            } %>

    </div>

    <!-- 検索ボタン（右側） -->
    <%= f.button type: "submit",
      class: "
        w-14 h-14
        rounded-full
        bg-card-gradient
        text-white
        shadow-md
        hover:shadow-xl
        hover:scale-105
        transition-all duration-200
        flex items-center justify-center
      " do %>
      <svg xmlns="http://www.w3.org/2000/svg"
           class="w-6 h-6"
           fill="none"
           viewBox="0 0 24 24"
           stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 10.5a7.5 7.5 0 0013.15 6.15z" />
      </svg>
    <% end %>

  <% end %>

  <!-- 検索準備メッセージ -->
  <div
    id="search-hint"
    class="mt-2 text-sm text-blue-600 hidden"
    data-template="「__TERM__」を検索してみよう!"
  ></div>

</div>

<%= render "result" %>